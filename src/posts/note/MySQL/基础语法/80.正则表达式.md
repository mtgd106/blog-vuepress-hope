---
title: 正则表达式
author: 
  name: 北斗星司
category: 
  - 数据库
tag: 
  - MySQL
date: 2023-10-23 15:08:32
icon: file
---

<!-- permalink: /MySQL/基础语法/正则表达式  -->

### 正则表达式

**regular expression**

**引用元字符：**

|                            字符                            |                           **描述**                           |
| :--------------------------------------------------------: | :----------------------------------------------------------: |
|                             ^                              |                     匹配字符串开始的位置                     |
|                             $                              |                     匹配字符串的结束位置                     |
|                             .                              |                匹配除 "\n" 之外的任何单个字符                |
|                             *                              |                 匹配前面的子表达式零次或多次                 |
|                             +                              |                 匹配前面的子表达式一次或多次                 |
|                             ?                              |                 匹配前面的子表达式零次或一次                 |
|                           [...]                            | 匹配括号中的任意一个字符。例如， '[abc]' 可以匹配 "plain" 中的 'a'。 |
|                           [^...]                           |                  匹配不在括号中的其他字符。                  |
|                             -                              | 可以在字符类中使用，来表示一个范围。例，[a-d]，可以匹配a或b或c或d |
| p1\|p2\|p3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |        匹配 p1 或 p2 或 p3，在找到第一个匹配项时停止         |
|                           `{n}`                            |                  n为非负整数，匹配确定的n次                  |
|                          `{n,m}`                           |       m和n均为非负整数，n<=m。最少匹配n次且最多匹配m次       |
|                           `{n,}`                           |                      匹配次数大于等于n                       |
|                             :                              |              在字符集中使用冒号来指定子字符类。              |

**匹配字符类：**

| 子字符类       | 描述                                                         |
| -------------- | ------------------------------------------------------------ |
| [:alpha:]      | 匹配字符串中的大写和小写字母字符。例如，'[0-9]{3}[[:alpha:]]{2}' 匹配三个数字，后跟两个字母。 |
| [:alnum:]      | 匹配字符串中的数字、大写和小写字母字符。例如，'[[:alnum:]]+' 匹配含有一个或多个字母和数字的字符串。 |
| [:digit:]      | 匹配字符串中的数字。例如，'[[:digit:]-]+' 匹配含有一个或多个数字或横线的字符串。 |
| [:lower:]      | 匹配字符串中的小写字母字符。例如，'[[:lower:]]' 不匹配 A，因为 A 为大写。 |
| [:space:]      | 匹配单个空格 (' ')。                                         |
| [:upper:]      | 匹配当前归类中的大写字母字符。例，'[[:upper:]ab]' 与以下其中一项匹配：任何大写字母、a 或 b。 |
| [:whitespace:] | 匹配一个空白字符，例如，空格、制表符、换页符和回车符。       |
| [:ascii:]      | 匹配任何七位的 ASCII 字符（0 到 127 之间的顺序值）。         |
| [:blank:]      | 匹配一个空白区或水平制表符。                                 |
| [:cntrl:]      | 匹配顺序值小于 32 或字符值为 127 的 ASCII 字符（控制字符）。控制字符包括换行符、换页符、退格符等。 |
| [:word:]       | 匹配字符串中的字母、数字或下划线字符。[[:word:]]等效于 [[:alnum:]_]。 |
| [:punct:]      | 匹配其中一个字符： ! " # $ % & ' ( ) * + , - . / : ; < = > ? @ [ ] ^ _ ` { |
| [:graph:]      | 匹配打印字符。[[:graph:]]等效于[[:alnum:] [:punct:]]。       |

例:

&nbsp;&nbsp;1.在student表中，查询name字段是以"ry"结尾的记录

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select * from student where name regexp 'ry$';

&nbsp;&nbsp;2.查询name字段包含a和y，且a和y之间只有一个字母的记录

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select * from student where name regexp 'a.y';

注意： 

&nbsp;&nbsp;1.使用正则表达式进行匹配时，要使用**regexp**关键字，且regexp子句总是返回0(没有匹配到)或1(匹配到了)。

&nbsp;&nbsp;2.MySQL的正则表达式匹配不区分大小写(即，大写和小写都匹配)。为区分大小写，可以使用binary关键字。

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;例：where name regexp binary '^A'；

&nbsp;&nbsp;3.使用双反斜杠来引用具有特殊含义的字符

&nbsp;&nbsp;4.[a-z0-9] 表示包含所有的小写字母和数字；[a-zA-Z] 表示匹配所有字母。









